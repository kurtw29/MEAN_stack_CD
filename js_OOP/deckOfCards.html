<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Deck of Cards</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script>
        function Card(suit, string, num){
            this.suit = suit;
            this.string = string;
            this.num = num;

            this.show = function(){
                console.log("Suit: "+this.suit+" String: "+this.string+" Number: "+this.num);
            }
        }
        
        function Deck(){
            this.createDeck = function(){
                this.cards = []
                console.log('we creating deck')
                // set up cards' suits and strings
                var suits = ["Hearts", "Clubs", "Diamonds", "Spades"];
                var strings = ["Ace", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Jack", "Queen", "King"];
                // creating cards in each suit
                for( i = 0; i < suits.length; i++){
                    // in each suit, create the 1-13 cards
                    for( j=0; j < strings.length; j++){
                        var card = new Card(suits[i], strings[j], j+1)
                        // card.show();
                        // add the card to build the deck
                        this.cards.push(card)
                    }
                }
            }     
            this.showDeck = function(){
                // for(var i=0; i < this.cards.length; i++){
                //     console.log("cards "+i+" : "+this.cards[i].suit+" : "+this.cards[i].string)
                // }
                console.log(this.cards)
            }
            this.shuffle = function(){
                console.log("came to shuffle function")
                var m = this.cards.length, t, i;
                while (m){
                    i = Math.floor(Math.random()* m --);
                    t = this.cards[m];
                    this.cards[m] = this.cards[i];
                    this.cards[i] = t;
                }
            }
            this.reset = function(){
                console.log("came to reset deck cards")
                this.cards = []
                this.createDeck();
            }
            this.deal = function(){var m = this.cards.length, t, i;
                // while (m){
                //     i = Math.floor(Math.random()* m --);
                //     t = this.cards[m];
                //     this.cards[m] = this.cards[i];
                //     this.cards[i] = t;
                // }
                var dealt_card;
                dealt_card = this.cards.pop();
                console.log(dealt_card);
                return dealt_card;
            }
        }
        
        function Player(name){
            this.name = name;
            this.hand = [];

            this.draw = function(card){
                this.hand.push(card);
                console.log(this.hand);
                return this;
            }
            this.discard = function(){
                this.hand.pop();
                console.log(this.hand);
            }
        }
        var dl = new Deck()
        dl.createDeck();
        dl.showDeck();
        // console.log(dl);
        // console.log(dl);
        dl.reset();
        dl.showDeck();
        dl.shuffle();
        dl.showDeck();
        // console.log(dl);
        var player = new Player("derp")
        player.draw(dl.deal()).draw(dl.deal()).draw(dl.deal()).draw(dl.deal()).draw(dl.deal())
        dl.showDeck();
        player.draw(dl.deal())
        player.discard();
    </script>
</body>
</html>