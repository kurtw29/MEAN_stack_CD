<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bubble Sort</title>
</head>
<body>
    <script>
        //Write a function for bubbleSort that takes an array
        function bubbleSort(arr){
            console.log("This is our given array: ", arr)
            // Create a marker for the nested loop (see later in the 2nd for-loop) to know when to stop swapping
            var marker = arr.length-1;
            // create a swap_num to count how many times the swap took place within one outer for-loop.
            var swap_num = 0;
                //(every loop, the largest will be at the last index, then the 2nd largest at the 2nd to last -> 
                    //first loop stops at the last index,
                    //2nd loop stops at [arr.length-2],
                    //3rd loops stops at [arr.length-3], etc.)
                    // loops stops when arrive at arr[1]
            // for(var i = arr.length-1; i >= 1; i--){
            for(var i = marker; i >= 1; i--){
                console.log("Where did we start this outer loops of bubbleSort() for this array", arr," ? \nFor i= ", i)
                // implment fastExit by counting how many times we swap (variable swap_num), starting at 0 at the beginning of the inner for-loop.
                swap_num = 0
                //Loop through the arr starting with 2nd index, and compare with a previous index until we reaches marker (i.e. the loop cannot pass the marker)
                for(var j = 1; j <= i; j++){
                    if(arr[j] < arr[j-1]){
                        //there's a swap, so add 1 to the "swap_num"
                        swap_num++
                        console.log("We added a 'swap_num', it is now swap_num: ", swap_num)
                        // The swap to make the larger value to be at the right (higher index)
                        var temp = arr[j-1];
                        arr[j-1] = arr[j];
                        arr[j] = temp;
                    }
                }
                // If we didn't do any swap, then it means the array is already sorted, and we can return the function. Otherwise, we continue to the next marker's for-loop and start check for swapping again.
                console.log("Completed inner-for-loop, swap_num: ", swap_num)
                if(swap_num == 0){
                    console.log("There's zero swap_num. See- swap_num: ", swap_num);
                    return arr;
                }
                // If max > arr[i] then, swap arr[i] and max, else, do nothing and continue the loop until 
                }
                // once loop is finished, repeat with max = arr[1] (2nd index)
            return arr
            }
        console.log("bubbleSort([1]): "+ bubbleSort([1]) );
        console.log("bubbleSort([1,2,3,4,5]): "+ bubbleSort([1,2,3,4,5]) );
        console.log("bubbleSort([5,6,4,3,1]): "+ bubbleSort([5,6,4,3,1]) );
        console.log("bubbleSort([5,6,4,11,12]): "+ bubbleSort([5,6,4,11,12]) );

    </script>
</body>
</html>