<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hundred Acres Wood</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <h2>Hundred Acre Wood Map - Where will you go?</h2>
    <ul>
        <li>Type the direction "north", "south", "east", or "west" in the input area</li>
        <li>You can chain the moving direction by using "." eg) north.south --> go "north" and then go "south"</li>
        <li>Another example: north.south.west --> go "north" then "south" then "west"</li>
    <h4> Have fun!</h4>
    <hr>
    </ul>
    <ul><form>
        <li>Starting from Tigger's home: 
            <input type='text' name='tigger' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Winnie the Pooh's home: 
            <input type='text' name='pooh' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Piglet's home: 
            <input type='text' name='piglet' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Bees's home: 
            <input type='text' name='bees' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Gopher's home: 
            <input type='text' name='gopher' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Rabbit's home: 
            <input type='text' name='rabbit' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Christopher Robin's home: 
            <input type='text' name='robin' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Owl's home: 
            <input type='text' name='owl' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Kanga's home: 
            <input type='text' name='kanga' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Eeyore's home: 
            <input type='text' name='eeyore' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
        <li>Starting from Heffalumps's home: 
            <input type='text' name='heffalumps' placeholder="Type here: north, south, east, or west.." />
            <br>
            <p class='arrival'>Arrived at: <span class='arrival'></span>.</p>
        </li>
    </ul></form>
    <script>
        // Create the map of the Hundred Acre Wood
        var tigger = { 
            character: "Tigger",
            greet: function(){
                console.log("Tigger: They'rrrr grrrrreeeeaatttt! oh wait, I'm a different tiger.")
            }
        }; // start with just the character attribute
        // Create a greet object with anomyous function (we can call the function by pointing "tigger.greet")
        

        var pooh = { 
            character: "Winnie the Pooh",
            greet: function(){
                console.log("Pooh: Honey...please");
            } 
        };
        tigger.north = pooh; // add more attributes, where we are actually storing the memory location for the other object
        pooh.south = tigger;

        var piglet = { 
            character: "Piglet",
            greet: function(){
                console.log("Piglet: oh...uh..uh..hello? i..i...i...i'm Piglet")
            }
        };        // create Piglet's home object with just the character attribute
        piglet.east = tigger.north;          // Piglet's east attribute is Tigger's north attribute, which is a memory address
        tigger.north.west = piglet;          // Follow Tigger's north attribute to a location in memory and Assign that object's west attribute to piglet
        

        var bees = {
            character: "Bees",
            greet: function(){
                console.log("Bees: Do you even know who I am? I'm bees")
            }
        };
        pooh.east = bees;
        bees.west = pooh;
        

        var gopher = {
            character: "Gopher",
            greet: function(){
                console.log("Gopher: ho ho ho, don't know gopher")
            }
        };
        
        var rabbit = {
            character: "Rabbit",
            greet: function(){
                console.log("Rabbit: Greeting. My name is rabbit")
            }
        };
        rabbit.east = gopher;
        gopher.west = rabbit;
        rabbit.south = bees;
        bees.north = rabbit;

        var robin = {
            character: "Christopher Robin",
            greet: function(){
                console.log("Christopher Robin: Hi there. My name is Christopher. How are you?")
            }
        };
        robin.east = rabbit;
        rabbit.west = robin;
        robin.south = pooh;
        pooh.north = robin;

        var owl = {
            character: "Owl",
            greet: function(){
                console.log("Owl: ooo, oooooo, oooooo, my dear, you seem lost.")
            }
        };
        owl.east = robin;
        robin.west = owl;
        owl.south = piglet;
        piglet.north = owl;

        var kanga = {
            character: "Kanga",
            greet: function(){
                console.log("Kanga: hi dear. you hungry?")
            }
        };
        kanga.south = robin;
        robin.north = kanga;
        
        var eeyore = {
            character: "Eeyore",
            greet: function(){
                console.log("Eeyore: ohh..sad sad sad day. please don't go away")
            }
        };
        eeyore.south = kanga;
        kanga.north = eeyore;

        var heffalumps = {
            character: "Heffalumps",
            greet: function(){
                console.log("Heffalumps: I don't know who you are, but here you are.")
            }
        };
        heffalumps.west = eeyore;
        eeyore.east = heffalumps;

        //Create a simple moving game in the map created above

        //create a player, starting at tigger's location
        var player = {
            location: tigger, name:'Player1',
            // keep track whether player has honey or not
            honey: false
        }

        // create function pickup() that is invok at "bees" location and turn "player.honey" status to True
        function pickup(where){
            if(where == bees){
                player.honey = true;
                console.log(player.name+" has picked up honey")
            }else{
                console.log("There's no honey at this location")
            }
        }

        // create function mission() that randomly selects a location (other than "bee") to designate where player needs to deliver the honey
        function mission(){
            //generate an array of locations to pick from
            var honeyEaters = [tigger, pooh, piglet, gopher, rabbit, robin, owl, kanga, eeyore, heffalumps]
            // using Math.round() to get an integer for the index of the array, then use Math.random() to pick a between [0 to 1], and times it by location array's length to get a random index of the array honeyEater[]. We call this random location "honeyOrder"
            honeyOrder = honeyEaters[Math.round(Math.random()*honeyEaters.length)]      //since we didn't code "var" to declare the variable "honeyOrder" inside the function, "honeyOrder" is now a global variable.
            return console.log("\""+honeyOrder.character+"\""+" ordered some honey, please deliver honey from Bees to "+honeyOrder.character);
        }
        // direct the mission at the beginning of the game/log.
        mission();

        // create a function drop()
        function drop(where){
            //message "player successfully delivered honey" if invoked drop() at mission()'s location (i.e. "honeyOrder"). 
            if( where == honeyOrder && player.honey == true){
                player.honey = false;
                console.log("Successfully delivered honey! Good job!")
            } else if(player.honey == false){
                console.log("Unable to deliver honey. You do not have any honey.\n You can get honey from 'Bees'");
            } else if(where != honeyOrder){
                console.log(where.character+" did not place an order for honey delivery. \n Please deliver honey to"+honeyOrder.character+", who is asking for honey delivery")
            }
            // player no longer has honey
            // log error message if invoking drop() when player does not have honey OR not at the mission()'s location
        }

        // define a global variable for current player's location
        var current_location = player.location
        // Create a function "move", so when type "north, south, west, or east", it will change player's location in the map.
        function move(dir){
            //Show player's current position
            console.log(player.name+" is currently at: "+current_location.character+"'s home.");
            //console.log player's move
            console.log(player.name+" move("+dir+").")
            //move the player's location, call new location "arrival"
            var arrival = current_location[dir]  //notice we use bracket notation instead of dot notation
            // DOT notation CANNOT TAKE a variable, it will search for "dir" in "player.location".
            if(arrival){
                //update player's current location to arrival:
                current_location = arrival;
                console.log(player.name+" has moved to: "+arrival.character+"'s home.");
                arrival.greet();
                pickup(current_location);
                // return console.log(player.name+" has moved to: "+arrival.character+"'s home.");
                drop(current_location);
            }else{
                console.log(player.name+" cannot go that way.");
                // return console.log(player.name+" cannot go that way.");
            }
        }
        move("north");
        move("east");
        move("west");
        move("north");
        move("east");
        move("east");
        move("east");
        move("west");

    </script>
</body>
</html>